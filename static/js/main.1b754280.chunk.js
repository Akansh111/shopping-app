(this["webpackJsonpcode-exercise"]=this["webpackJsonpcode-exercise"]||[]).push([[0],{105:function(e,t,s){},110:function(e,t,s){},112:function(e,t,s){},231:function(e,t,s){},232:function(e,t,s){},233:function(e,t,s){},234:function(e,t,s){"use strict";s.r(t);var c=s(3),a=s(0),n=s.n(a),r=s(17),i=s.n(r),l=(s(105),s(31)),o=s(5),d=s(8),u=s(16),j="USER_LOGGED_IN",m="UPDATE_CART_ITEM",b="REMOVE_CART_ITEM",h="SET_FILTER",O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:j,payload:e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:m,payload:e}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:h,payload:e}},f=(s(110),s(1)),g=function(e){var t=e.category,s=Object(d.c)((function(e){return e})).filter,c=Object(d.b)();return Object(f.jsx)("aside",{className:"product-category",children:Object(f.jsx)("ul",{children:t.length?t.map((function(e){return e.enabled&&Object(f.jsx)("li",{style:{color:e.id===s?"red":"black"},onClick:(t=e.id,function(){c(x(t!==s?t:null))}),children:e.name},e.id);var t})):null})})},N=s(12),v=(s(112),function(e){var t=e.product,s=Object(d.b)(),c=Object(N.c)(),n=Object(a.useCallback)((function(){s(p(t)),c.success("Product added to cart succesfully!")}),[c,s,t]);return Object(f.jsxs)("li",{className:"product-cards",id:t.category,children:[Object(f.jsx)("h2",{className:"product-name truncate",children:t.name}),Object(f.jsx)("img",{src:t.imageURL,alt:t.name,className:"product-img"}),Object(f.jsx)("p",{className:"product-desc",children:t.description}),Object(f.jsxs)("button",{className:"btn-cta mobile tablet",onClick:n,children:["Buy Now @ Rs. ",t.price]}),Object(f.jsxs)("div",{className:"product-cta-container",children:[Object(f.jsxs)("span",{className:"product-price",children:["MRP Rs. ",t.price]}),Object(f.jsx)("button",{onClick:n,className:"btn-cta",children:"Buy Now"})]})]})}),y=s(55),w=s.n(y),k=s(91),C=s(92),P=s.n(C),S=function(){var e=Object(k.a)(w.a.mark((function e(t){var s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.get("".concat("https://akansh111.github.io/shopping-app/").concat(t));case 3:return s=e.sent,e.abrupt("return",s);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),s=t[0],c=t[1],n=Object(a.useState)([]),r=Object(u.a)(n,2),i=r[0],l=r[1],o=Object(d.c)((function(e){return e})).filter;return Object(a.useEffect)((function(){S("products").then((function(e){var t=e.data;c(t)})),S("categories").then((function(e){var t=e.data;l(t)}))}),[]),Object(f.jsxs)("main",{className:"product container",id:"products-list-container",role:"main",children:[Object(f.jsx)(g,{category:i}),Object(f.jsx)("section",{id:"products-cards-container",className:"product-cards-container",children:Object(f.jsx)("ul",{className:"product-list",style:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",padding:0,margin:0,listStyle:"none"},children:null===o&&s.length>0?s.map((function(e){return Object(f.jsx)(v,{product:e},e.id)})):s.filter((function(e){return e.category===o})).map((function(e){return Object(f.jsx)(v,{product:e},e.id)}))})})]})},E=s(42),_=s(15),L=(s(89),function(){var e=Object(o.g)(),t=Object(d.b)(),s=Object(N.c)(),c=Object(a.useCallback)((function(c,a){var n=a.setSubmitting,r=JSON.parse(localStorage.getItem("registeredUser"));setTimeout((function(){console.log("Logging in",c),n(!1),r.email===c.email&&r.password===c.password?(t(O(r.firstName)),s.success("User logged in successfully!"),e.push("/")):r.email===c.email&&r.password!==c.password?(s.error("Invalid Credentials. Please try again!"),e.push("/login")):(s.error("User not registered. Please register the user first!"),e.push("/register"))}),500)}),[t,s,e]);return Object(f.jsxs)("section",{className:"login-section",children:[Object(f.jsx)("div",{className:"login-section_info",children:Object(f.jsx)("h1",{className:"login-section-heading",children:"Login"})}),Object(f.jsx)("div",{className:"login-section_formGroup",children:Object(f.jsx)(E.a,{initialValues:{email:"",password:""},onSubmit:c,validationSchema:_.a().shape({email:_.c().email().required("Email is required"),password:_.c().required("Password is required").min(6,"Password is too short - should be 6 chars minimum.").matches(/(?=.*[0-9])/,"Password must contain a number.")}),children:function(e){var t=e.values,s=e.touched,c=e.errors,a=e.isSubmitting,n=e.handleChange,r=e.handleBlur,i=e.handleSubmit;return Object(f.jsxs)("form",{onSubmit:i,autoComplete:"off",className:"login-section_form","aria-label":"form",children:[Object(f.jsxs)("div",{className:"field",children:[Object(f.jsx)("input",{"aria-required":"true","aria-labelledby":"email",type:"email",name:"email",id:"email",placeholder:"Enter your email",value:t.email,onChange:n,onBlur:r}),Object(f.jsx)("label",{htmlFor:"email",id:"email",children:"Email *"})]}),c.email&&s.email&&Object(f.jsx)("span",{className:"error-text",children:c.email}),Object(f.jsxs)("div",{className:"field",children:[Object(f.jsx)("input",{"aria-required":"true","aria-labelledby":"password",type:"password",name:"password",id:"password",placeholder:"Enter your password",value:t.password,onChange:n,onBlur:r}),Object(f.jsx)("label",{htmlFor:"password",id:"password",children:"Password *"})]}),c.password&&s.password&&Object(f.jsx)("span",{className:"error-text",children:c.password}),Object(f.jsx)("input",{type:"submit",disabled:a,className:"btn--login",value:"Login"})]})}})})]})}),I=function(){return Object(f.jsx)(L,{})},U=function(){return Object(f.jsx)("div",{className:"d-flex justify-content-center",children:Object(f.jsx)("span",{children:"Copyright \xa9 2011-2021 Sabka Bazaar Grocery Supplies Pvt Ltd."})})},B=(s(231),function(e){var t=e.closeCart,s=Object(d.c)((function(e){return e||{}})),c=s.item,n=s.cart,r=s.isUserLoggedIn,i=Object(d.b)(),l=Object(N.c)(),o=Object(a.useCallback)((function(){t(!1)}),[t]),u=Object(a.useCallback)((function(e){return function(){i(p(e))}}),[i]),j=Object(a.useCallback)((function(e){return function(){i(function(){return{type:b,payload:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null}}(e))}}),[i]),m=Object(a.useCallback)((function(){""===r?l.error("Please login before checking out!"):(o(),l.success("Order placed successfully!"))}),[l,r,o]);return Object(f.jsxs)("div",{className:"cart-container",children:[Object(f.jsxs)("div",{className:"header-container",children:[Object(f.jsxs)("h1",{className:"heading",children:["My cart ",c>0?"( ".concat(c," Item )"):null]}),Object(f.jsx)("button",{className:"btn-close",onClick:o})]}),Object(f.jsx)("ul",{className:"cart_list",children:n.length>0?n.map((function(e){return Object(f.jsxs)("li",{className:"cart_list-item",children:[Object(f.jsx)("img",{src:e.imageURL,className:"cart_list-img",alt:e.name}),Object(f.jsxs)("div",{className:"cart_list-details",children:[Object(f.jsx)("h2",{className:"cart_list-name truncate",children:e.name}),Object(f.jsx)("button",{className:"btn-decrement",onClick:j(e),children:"-"}),Object(f.jsx)("span",{className:"quantity",children:e.qty}),Object(f.jsx)("button",{className:"btn-increment",onClick:u(e),children:"+"}),Object(f.jsx)("span",{className:"into-qty",children:"X"}),Object(f.jsxs)("span",{className:"cart_list-price",children:["\u20b9 ",e.price]}),Object(f.jsxs)("span",{className:"cart_list-item-total",children:["\u20b9 ",e.qty*e.price]})]})]},e.id)})):Object(f.jsxs)("div",{className:"no-item-text",children:[Object(f.jsx)("b",{children:"No items in your cart"}),Object(f.jsx)("p",{children:"Your favourite items are just a click away"})]})}),Object(f.jsxs)("div",{className:"checkout",children:[Object(f.jsx)("p",{className:"checkout-heading",children:"Promo code can be applied on the checkout page."}),c>0?Object(f.jsxs)("button",{type:"button",name:"button",className:"btn-cart-checkout checkout-button",onClick:m,children:[Object(f.jsx)("span",{className:"checkout-text",children:"Proceed to checkout"}),Object(f.jsxs)("span",{className:"checkout-price",children:[" ","Rs."," ",n.reduce((function(e,t){return e+t.price*t.qty}),0)]})]}):Object(f.jsx)("button",{type:"button",name:"button",className:"btn-cart-checkout checkout-button",onClick:o,children:Object(f.jsx)("span",{className:"checkout-text",children:"Start Shopping"})})]})]})}),F=(s(232),function(){var e=Object(o.g)(),t=Object(d.b)(),s=Object(N.c)(),c=Object(a.useState)(!1),n=Object(u.a)(c,2),r=n[0],i=n[1],l=Object(d.c)((function(e){return e})),j=l.item,m=l.isUserLoggedIn,b=Object(a.useCallback)((function(t){return function(){return e.push(t)}}),[e]),h=Object(a.useCallback)((function(){return i(!r)}),[r]);return Object(f.jsx)("header",{children:Object(f.jsxs)("div",{className:"navigation",role:"navigation",children:[Object(f.jsx)("div",{onClick:b("/"),children:Object(f.jsx)("img",{className:"logo-img",src:"static/images/logo.png",alt:"logo"})}),Object(f.jsxs)("div",{className:"cart-login-container",children:[Object(f.jsx)("nav",{children:""===m?Object(f.jsxs)("ul",{className:"list-h",children:[Object(f.jsx)("li",{className:"link",children:Object(f.jsx)("button",{onClick:b("/login"),children:"SignIn"})}),Object(f.jsx)("li",{className:"link",children:Object(f.jsx)("button",{onClick:b("/register"),children:"Register"})})]}):Object(f.jsxs)("ul",{className:"list-h",children:["Welcome ".concat(m,"!"),Object(f.jsx)("li",{className:"link",children:Object(f.jsx)("button",{onClick:function(){t(O("")),s.success("User logged out successfully"),b("/")},children:"Logout"})})]})}),Object(f.jsxs)("button",{className:"btn-cart",onClick:h,children:[Object(f.jsx)("img",{src:"static/images/cart.svg",alt:"cart icon",className:"icon",id:"outside"}),Object(f.jsxs)("span",{className:"text",id:"cart-items",children:[j," Items"]})]}),Object(f.jsx)("div",{id:"desktop-cart",className:"cart-main-cont",style:{display:r?"block":"none"},children:Object(f.jsx)(B,{closeCart:h})})]})]})})}),R=function(e){var t=e.children;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(F,{}),t,Object(f.jsx)(U,{})]})},T=function(){var e=Object(o.g)(),t=Object(N.c)();return Object(f.jsxs)("section",{className:"signup-section",children:[Object(f.jsxs)("div",{className:"signup-section_info",children:[Object(f.jsx)("h1",{className:"login-section-heading",children:"Signup"}),Object(f.jsxs)("div",{className:"login-section-desc",children:[Object(f.jsx)("br",{}),"We do not share your personal details anywhere."]})]}),Object(f.jsx)("div",{className:"login-section_formGroup",children:Object(f.jsx)(E.a,{initialValues:{firstName:"",lastName:"",email:"",password:"",confirmPassword:""},onSubmit:function(s,c){var a=c.setSubmitting;setTimeout((function(){console.log("Logging in",s),localStorage.setItem("registeredUser",JSON.stringify(s)),t.success("User registered Successfully! Please login"),a(!1),e.push("/login")}),500)},validationSchema:_.a().shape({firstName:_.c().required("First Name is required").min(3,"First Name is too short - should be 3 chars minimum."),lastName:_.c().required("Last Name is required").min(1,"Last Name is too short - should be 1 chars minimum."),email:_.c().email().required("Email is required"),password:_.c().required("Password is required").min(6,"Password is too short - should be 6 chars minimum.").matches(/(?=.*[0-9])/,"Password must contain a number."),confirmPassword:_.c().required("Confirm Password is required").min(6,"Confirm Password is too short - should be 6 chars minimum.").matches(/(?=.*[0-9])/,"Password must contain a number.").oneOf([_.b("password"),null],"Passwords must match")}),children:function(e){var t=e.values,s=e.touched,c=e.errors,a=e.isSubmitting,n=e.handleChange,r=e.handleBlur,i=e.handleSubmit;return Object(f.jsxs)("form",{onSubmit:i,autoComplete:"off",className:"signup-section_form","aria-label":"form",children:[Object(f.jsxs)("div",{className:"field",children:[Object(f.jsx)("input",{type:"text",name:"firstName",id:"firstName",placeholder:"First Name",value:t.firstName,onChange:n,onBlur:r}),Object(f.jsx)("label",{htmlFor:"firstName",id:"firstName",children:"First Name*"})]}),c.firstName&&s.firstName&&Object(f.jsx)("span",{style:{color:"red"},children:c.firstName}),Object(f.jsxs)("div",{className:"field",children:[Object(f.jsx)("input",{type:"text",name:"lastName",id:"lastName",placeholder:"Last Name",value:t.lastName,onChange:n,onBlur:r}),Object(f.jsx)("label",{htmlFor:"lastName",id:"lastName",children:"Last Name*"})]}),c.lastName&&s.lastName&&Object(f.jsx)("span",{style:{color:"red"},children:c.lastName}),Object(f.jsxs)("div",{className:"field",children:[Object(f.jsx)("input",{name:"email",id:"email",type:"text",placeholder:"Enter your email",value:t.email,onChange:n,onBlur:r}),Object(f.jsx)("label",{htmlFor:"email",id:"email",children:"Email*"})]}),c.email&&s.email&&Object(f.jsx)("span",{style:{color:"red"},children:c.email}),Object(f.jsxs)("div",{className:"field",children:[Object(f.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Enter your password",value:t.password,onChange:n,onBlur:r}),Object(f.jsx)("label",{htmlFor:"password",id:"password",children:"Password*"})]}),c.password&&s.password&&Object(f.jsx)("span",{style:{color:"red"},children:c.password}),Object(f.jsxs)("div",{className:"field",children:[Object(f.jsx)("input",{type:"password",name:"confirmPassword",id:"confirmPassword",placeholder:"Confirm Password",value:t.confirmPassword,onChange:n,onBlur:r}),Object(f.jsx)("label",{htmlFor:"confirmPassword",id:"confirmPassword",children:"Confirm Password*"})]}),c.confirmPassword&&s.confirmPassword&&Object(f.jsx)("span",{style:{color:"red"},children:c.confirmPassword}),Object(f.jsx)("input",{type:"submit",className:"btn--signup",disabled:a,name:"submit",value:"SignUp"})]})}})})]})},M=function(){return Object(f.jsx)(T,{})},G=s(54),J=s(99),W=s(26),A=s.n(W),D={item:0,cart:[],filter:null,isUserLoggedIn:""},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0,s=t.type,a=t.payload;switch(s){case m:return e.cart.find((function(e){return e.id===A()(a,"id")}))?Object(c.a)(Object(c.a)({},e),{},{item:e.item+1,cart:e.cart.map((function(e){return e.id===A()(a,"id")?Object(c.a)(Object(c.a)({},e),{},{qty:e.qty+1}):e}))}):Object(c.a)(Object(c.a)({},e),{},{item:e.item+1,cart:e.cart.concat(Object(c.a)(Object(c.a)({},a),{},{qty:1}))});case b:var n=e.cart.find((function(e){return e.id===A()(a,"id")}));return n?n.qty>1?Object(c.a)(Object(c.a)({},e),{},{item:e.item-1,cart:e.cart.map((function(e){return e.id===A()(a,"id")?Object(c.a)(Object(c.a)({},e),{},{qty:e.qty-1}):e}))}):Object(c.a)(Object(c.a)({},e),{},{item:e.item-1,cart:e.cart.filter((function(e){return e.id!==A()(a,"id")}))}):(console.log("Item cannot be identified !"),Object(c.a)({},e));case h:return Object(c.a)(Object(c.a)({},e),{},{filter:a});case j:return Object(c.a)(Object(c.a)({},e),{},{isUserLoggedIn:a});default:return D}},z=Object(G.createStore)(V,Object(J.composeWithDevTools)()),X=(s(233),function(){return Object(f.jsx)(d.a,{store:z,children:Object(f.jsx)(l.a,{children:Object(f.jsx)(R,{children:Object(f.jsxs)(o.d,{children:[Object(f.jsx)(o.b,{path:"/",exact:!0,component:q}),Object(f.jsx)(o.b,{path:"/login",exact:!0,component:I}),Object(f.jsx)(o.b,{path:"/register",exact:!0,component:M}),Object(f.jsx)(o.b,{path:"/",render:function(){return Object(f.jsx)(o.a,{to:"/"})}})]})})})})}),Y=s(100),H={timeout:5e3,position:N.b.BOTTOM_CENTER};i.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(N.a,Object(c.a)(Object(c.a)({template:Y.a},H),{},{children:Object(f.jsx)(X,{})}))}),document.getElementById("root"))},89:function(e,t,s){}},[[234,1,2]]]);
//# sourceMappingURL=main.1b754280.chunk.js.map